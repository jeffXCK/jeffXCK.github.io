---
title: ActiveMQ—Queue和Topic两者消息模式对比总结
comments: false
date: 2019-08-31 10:38:22
categories: Active
tags: Active
---

| 比较项目   |                        Topic模式队列                         |                        Queue模式队列                         |
| ---------- | :----------------------------------------------------------: | :----------------------------------------------------------: |
| 工作模式   | *订阅-发布*模式； 如果当前没有订阅者，消息将会别丢弃； 如果有多个订阅者，那么所有订阅者都会受到消息。 | *负载均衡*模式。如果当前没有消费者，消息也不会丢弃。如果有多个消费者，那么一条消息也只会发送给一个消费者，并且要求消费者ack信息。 |
| 有无状态   |                            无状态                            | Queue数据默认会在MQ服务器上以文件的形式保存，ActiveMQ一般会保存在$AMQ_HOME/data/kr-store/data下面，也可以配置成DB存储。 |
| 传递完整性 |                如果没有订阅者，消息会被丢弃。                |                       消息不会被丢弃。                       |
| 处理效率   | 由于消息要按照订阅者的数量进行复制，所有处理性能会随着订阅者的增加而明显降低，并且还要结合不同消息协议自身的性能差异。 | 由于一条消息只发送给一个消费者，所以就算消费者再多，性能也不会有明显降低，当然不同消息协议的具体性能也是有差异的。 |

